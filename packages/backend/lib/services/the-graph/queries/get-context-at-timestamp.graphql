query GetContextAtTimestamp(
  $contextId: ID!
  $chainNames: [String!]!
  $timestamp: BigInt!
  $first: Int = 100
  $skip: Int = 0
) {
  crossContext(
    contextId: $contextId
    chainNames: $chainNames
    timestamp: $timestamp
  ) {
    chainName
    delegationSets(
      first: $first
      skip: $skip
      where: {
        expireTimestamp_gt: $timestamp
        creationTimestamp_lt: $timestamp
      }
    ) {
      fromAccount {
        id
      }
      delegations {
        toAccount {
          id
        }
        numerator
      }
      expireTimestamp
      denominator
      creationTimestamp
    }
    optouts {
      account {
        id
      }
      status
      creationTimestamp
    }
  }
}
